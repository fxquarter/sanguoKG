建安二十二年（217），刘备进兵争汉中，遣兰与张飞、马超等屯下辩（今甘肃成县西北），
曹操
命曹洪拒敌。次年，曹洪破兰，斩其将任虁；张飞、马超走汉中，兰后为阴平氐强端斩杀。