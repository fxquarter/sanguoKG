初从刘璋，为绵竹令。先主攻绵竹，诗先举城降。成都既定，先主领益州牧，以诗为督军从事，出为牂牁太守，还为州前部司马。先主为汉中王，遣诗拜关羽为前将军，羽闻
黄忠
为后将军，羽怒曰：“大丈夫终不与老兵同列！”不肯受拜。经诗劝解受之。后群臣议欲推先主称尊号，诗上疏劝阻。先主怒，贬左迁部永昌从事。后劝谏孟达内应之事。蒋琬秉政，以诗为谏议大夫，卒於家。